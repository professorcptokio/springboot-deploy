version: '3.8' # Versão do formato Docker Compose

services:
  # Define o serviço que será o seu servidor remoto simulado
  ssh_java_server:
    # 1. Instrução de construção:
    # O Compose procurará o 'Dockerfile' na pasta atual para construir a imagem.
    build:
      context: . # Usa o diretório atual como contexto de construção
      dockerfile: Dockerfile # O nome do seu Dockerfile (assumido: Dockerfile)
    
    # 2. Definição do nome do contêiner para fácil identificação
    container_name: remote-deploy-server
    
    # 3. Mapeamento de portas (simula o acesso remoto):
    # '2222:22' -> Mapeia a porta 2222 do seu host para a porta 22 do contêiner (SSH)
    ports:
      - "2222:22"
    
    # 4. Reinicialização (opcional, mas útil)
    restart: unless-stopped